(this["webpackJsonpwarehouse-tracker-frontend"]=this["webpackJsonpwarehouse-tracker-frontend"]||[]).push([[0],{44:function(e,t,c){},50:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c(13),a=c.n(s),i=c(6),r=(c(44),c(5)),l=(c(50),c(4)),d=c(8),j=c(20),o=c(15),u=c(35),b=c.n(u),m="https://warehouse-api-backend.herokuapp.com/api/v1/",h=function(e){return{type:"LOGIN",user:e}},O=function(e){return{type:"ERROR",error:e}},x=function(e){return{type:"GET_REQUEST",payload:e}},v=function(){return function(e){e(x),b.a.get("".concat(m,"items")).then((function(t){var c=t.data;console.log(c),e({type:"FETCH_ITEMS_SUCCESS",payload:c})})).catch((function(t){var c=t.message;e(function(e){return{type:"FETCH_ITEMS_FAILURE",payload:e}}(c))}))}},f=c(0),p=c(36),N=c(19),g=c(1);var y=function(){var e=localStorage.getItem("username"),t=Object(l.g)(),c=Object(n.useState)(!1),s=Object(d.a)(c,2),a=s[0],r=s[1],j=function(){return r(!a)},u=function(){return r(!1)};return Object(g.jsxs)("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation",children:[Object(g.jsxs)("div",{className:"navbar-brand",children:[Object(g.jsxs)("div",{className:"navbar-item",children:[Object(g.jsx)("div",{className:"navbar-item",children:Object(g.jsx)(f.b.Provider,{value:{size:"40px",color:"#4c79f2"},children:Object(g.jsx)(o.a,{})})}),Object(g.jsx)("div",{className:"navbar-item brand-name is-white",children:"WAREHOUSE"})]}),Object(g.jsx)("div",{className:"navbar-burger navbar-end",onClick:j,onKeyPress:j,role:"button",tabIndex:"0",children:a?Object(g.jsx)(N.b,{}):Object(g.jsx)(p.a,{})}),Object(g.jsxs)("div",{className:a?"nav-menu active":"nav-menu",children:[Object(g.jsx)("div",{onClick:u,onKeyPress:u,role:"button",tabIndex:0,children:Object(g.jsx)(i.b,{to:"/Login",children:"Login"})}),Object(g.jsx)("div",{onClick:u,onKeyPress:u,role:"button",tabIndex:0,children:Object(g.jsx)(i.b,{to:"/Signup",children:"Signup"})})]})]}),e?Object(g.jsx)("div",{className:"navbar-end is-hidden-mobile",children:Object(g.jsx)("div",{className:"navbar-item",children:Object(g.jsx)(i.b,{onClick:function(){localStorage.removeItem("username"),t.go(0)},to:"/",children:"LOGOUT"})})}):Object(g.jsx)("div",{className:"navbar-menu",children:Object(g.jsxs)("div",{className:"navbar-end",children:[Object(g.jsx)("div",{className:"navbar-item",children:Object(g.jsx)(i.b,{to:"/Login",children:"Login"})}),Object(g.jsx)("div",{className:"navbar-item",children:Object(g.jsx)(i.b,{to:"/Signup",children:"Signup"})})]})})]})},S=c.p+"static/media/background.68a36d9a.jpg";var C=Object(r.b)((function(e){return{error:e.errorReducer}}),null)((function(e){var t=e.error,c=Object(r.c)(),s=Object(l.g)(),a=Object(n.useState)(""),i=Object(d.a)(a,2),u=i[0],b=i[1],x=Object(n.useState)(0),v=Object(d.a)(x,2),f=v[0],p=v[1],N=function(e){var t=e.target.name,c=e.target.value;"username"===t&&b(c),"password"===t&&p(c)},C=function(e){e.preventDefault(),c(function(e,t){return function(c){fetch("".concat(m,"authenticate"),{method:"post",body:JSON.stringify({username:e,password:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){e.error&&c(O(e.error)),e.username&&(localStorage.setItem("username",JSON.stringify(e)),c(h(e))),console.log(e)})).catch((function(e){throw Error("Error: ".concat(e))}))}}(u,f)),setTimeout((function(){s.push("/")}),2500)};return Object(g.jsxs)("div",{style:{backgroundImage:"url(".concat(S,")")},children:[Object(g.jsx)(y,{}),Object(g.jsx)("div",{className:"login-form-container",children:Object(g.jsxs)("div",{className:"card width-400",children:[Object(g.jsx)("div",{className:"card-image",children:Object(g.jsx)("figure",{className:"image",children:Object(g.jsx)("img",{src:S,alt:"placeholder"})})}),Object(g.jsxs)("div",{className:"card-content",children:[Object(g.jsx)("div",{className:"media",children:Object(g.jsx)("div",{className:"is-size-4",children:"Login"})}),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("label",{htmlFor:"name",children:Object(g.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(g.jsx)("input",{onChange:function(e){return N(e)},placeholder:"username",className:"input",type:"text",name:"username",required:!0}),Object(g.jsx)("span",{className:"icon is-small is-left",children:Object(g.jsx)(o.b,{})})]})})}),Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"password",children:Object(g.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(g.jsx)("input",{onChange:function(e){return N(e)},placeholder:"password",className:"input",type:"password",name:"password",required:!0}),Object(g.jsx)("span",{className:"icon is-small is-left",children:Object(g.jsx)(j.a,{})})]})}),Object(g.jsxs)("div",{className:"field padding-2-5",children:[Object(g.jsx)("button",{className:"button is-fullwidth is-success",type:"button",onClick:function(e){return C(e)},children:"Login"}),Object(g.jsx)("h2",{children:t})]})]}),Object(g.jsx)("time",{dateTime:"2016-1-1",children:"11:09 PM - 1 Jan 2016"})]})]})]})})]})}));var w=function(){var e=Object(l.g)(),t=Object(r.c)(),c=Object(n.useState)(""),s=Object(d.a)(c,2),a=s[0],i=s[1],u=Object(n.useState)(0),b=Object(d.a)(u,2),x=b[0],v=b[1],f=function(e){var t=e.target.name,c=e.target.value;"username"===t&&i(c),"password"===t&&v(c)},p=function(c){c.preventDefault(),t(function(e,t){return function(c){fetch("".concat(m,"register"),{method:"post",body:JSON.stringify({username:e,password:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){e.error&&c(O(e.error)),e.username&&(localStorage.setItem("username",JSON.stringify(e)),c(h(e)))})).catch((function(e){throw Error("Error: ".concat(e))}))}}(a,x)),setTimeout((function(){e.push("/")}),2500)};return Object(g.jsxs)("div",{children:[Object(g.jsx)(y,{}),Object(g.jsx)("div",{className:"login-form-container",children:Object(g.jsxs)("div",{className:"card width-400",children:[Object(g.jsx)("div",{className:"card-image",children:Object(g.jsx)("figure",{className:"image",children:Object(g.jsx)("img",{src:S,alt:"placeholder"})})}),Object(g.jsxs)("div",{className:"card-content",children:[Object(g.jsx)("div",{className:"media",children:Object(g.jsx)("div",{className:"is-size-4",children:"SignUp"})}),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("label",{htmlFor:"name",children:Object(g.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(g.jsx)("input",{onChange:function(e){return f(e)},placeholder:"username",className:"input",type:"text",name:"username",required:!0}),Object(g.jsx)("span",{className:"icon is-small is-left",children:Object(g.jsx)(o.b,{})})]})})}),Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"password",children:Object(g.jsxs)("div",{className:"control has-icons-left has-icons-right",children:[Object(g.jsx)("input",{onChange:function(e){return f(e)},placeholder:"password",className:"input",type:"password",name:"password",required:!0}),Object(g.jsx)("span",{className:"icon is-small is-left",children:Object(g.jsx)(j.a,{})})]})}),Object(g.jsx)("div",{className:"field padding-2-5",children:Object(g.jsx)("button",{className:"button is-fullwidth is-success",type:"button",onClick:function(e){return p(e)},children:"Sign Up"})})]}),Object(g.jsx)("time",{dateTime:"2016-1-1",children:"11:09 PM - 1 Jan 2016"})]})]})]})})]})},I=function(e){var t=e.component,c=Object(r.c)(),s=localStorage.getItem("username");return Object(n.useEffect)((function(){s&&c(h(JSON.parse(s)))}),[]),Object(g.jsx)(l.b,{render:function(){return s?Object(g.jsx)(t,{}):Object(g.jsx)(l.a,{to:"/Login"})}})},E=c(38),R=c(37);var Q=function(){return Object(g.jsx)("footer",{children:Object(g.jsx)("div",{className:"fixed-bottom",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"columns is-mobile is-flex",children:[Object(g.jsx)("div",{className:"column",children:Object(g.jsx)(i.b,{to:"/CreateItem",children:Object(g.jsx)(R.a,{})})}),Object(g.jsx)("div",{className:"column",children:Object(g.jsx)(i.b,{to:"/",children:Object(g.jsx)(N.a,{})})}),Object(g.jsx)("div",{className:"column",children:Object(g.jsx)(i.b,{to:"/Statistics",children:Object(g.jsx)(E.a,{})})})]})})})})},q=function(){var e=Object(r.c)();Object(n.useEffect)((function(){e(v())}),[]);var t=Object(r.d)((function(e){return e.userReducer})),c=Object(r.d)((function(e){return e.itemReducer})).filter((function(e){return t.id===e.user}));return Object(g.jsx)(g.Fragment,{children:0===c.length?Object(g.jsx)("h2",{children:"No items"}):c.map((function(e){return Object(g.jsx)("section",{children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"columns items-wrapper",children:[Object(g.jsxs)("div",{className:"column courier",children:[Object(g.jsx)("p",{className:"subtitle color-orange",children:e.code}),Object(g.jsx)("p",{className:"is-size-1 title color-blue",children:e.name})]}),Object(g.jsx)("div",{className:"column OpenSans-font",children:Object(g.jsxs)("div",{className:"is-flex is-justify-content-center",children:[Object(g.jsx)("div",{className:"Comments",children:"Delete\xa0\xa0"}),Object(g.jsx)("div",{className:"Comments",children:"|\xa0\xa0Edit"})]})}),Object(g.jsxs)("div",{className:"column courier",children:[Object(g.jsx)("p",{className:"title",children:"Quantity"}),Object(g.jsx)("p",{className:"is-size-2 subtitle color-blue",children:e.current_quantity})]})]})},e.code)},e.id)}))})},F=Object(r.b)((function(e){return{currentUser:e.userReducer}}),null)((function(e){var t=e.currentUser;return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(y,{}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{children:["I am\xa0\xa0",t.username]}),Object(g.jsx)(q,{})]}),Object(g.jsx)(Q,{})]})})),k=c(18),T=c(25);c(74);var U=Object(r.b)((function(e){return{currentUser:e.userReducer}}),null)((function(e){var t=e.currentUser,c=Object(n.useState)(""),s=Object(d.a)(c,2),a=s[0],i=s[1],r=Object(n.useState)(""),l=Object(d.a)(r,2),j=l[0],o=l[1],u=Object(n.useState)(0),b=Object(d.a)(u,2),h=b[0],O=b[1],x=Object(n.useState)(0),v=Object(d.a)(x,2),f=v[0],p=v[1],N={code:null,name:"",idealQuantity:null,currentQuantity:null},S=Object(n.useState)(N),C=Object(d.a)(S,2),w=C[0],I=C[1],E=function(e){var t=e.target.name,c=e.target.value;"code"===t&&i(c),"name"===t&&o(c),"idealQuantity"===t&&O(c),"currentQuantity"===t&&p(c)};T.a.configure();var R=function(e){e.preventDefault();var c=!1,n=Object(k.a)({},N);""===j&&(n.name="Name is Required",c=!0),""===a&&(n.code="Code is Required",c=!0),0===h&&(n.idealQuantity="Ideal Quantity is Required",c=!0),0===f&&(n.currentQuantity="Current Quantity is Required",c=!0),I(n),c||(!function(e,t,c,n,s){fetch("".concat(m,"items"),{method:"post",body:JSON.stringify({code:e,name:t,ideal_quantity:c,current_quantity:n,user_id:s}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}(a,j,h,f,t.id),document.getElementById("createItem").reset(),T.a.success("A new item has been created"))};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)(y,{}),Object(g.jsx)("section",{className:"hero",children:Object(g.jsx)("div",{className:"hero-body",children:Object(g.jsx)("div",{className:"container has-text-centered",children:Object(g.jsxs)("form",{id:"createItem",className:"box",children:[Object(g.jsx)("h1",{className:"title",children:"Create Item"}),Object(g.jsx)("div",{className:"field is-horizontal",children:Object(g.jsxs)("div",{className:"field-body",children:[Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("p",{className:"control",children:Object(g.jsxs)("label",{htmlFor:"code",className:"label",children:["Code",Object(g.jsx)("input",{className:"input is-info is-medium",onChange:function(e){return E(e)},type:"text",name:"code",id:"code",required:!0})]})})}),w.code&&Object(g.jsx)("div",{className:"has-text-danger",children:w.code}),Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("p",{className:"control",children:Object(g.jsxs)("label",{htmlFor:"name",className:"label",children:["Name",Object(g.jsx)("input",{className:"input is-info is-medium",onChange:function(e){return E(e)},type:"name",name:"name",id:"name",required:!0})]})})}),w.name&&Object(g.jsx)("div",{className:"has-text-danger",children:w.name})]})}),Object(g.jsx)("div",{className:"field is-horizontal",children:Object(g.jsxs)("div",{className:"field-body",children:[Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("p",{className:"control",children:Object(g.jsxs)("label",{htmlFor:"idealQuantity",className:"label",children:["Ideal Quantity",Object(g.jsx)("input",{className:"input is-info is-medium",onChange:function(e){return E(e)},type:"number",name:"idealQuantity",id:"idealQuantity",required:!0})]})})}),w.idealQuantity&&Object(g.jsx)("div",{className:"has-text-danger",children:w.idealQuantity}),Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("p",{className:"control",children:Object(g.jsxs)("label",{htmlFor:"currentQuantity",className:"label",children:["Current Quantity",Object(g.jsx)("input",{className:"input is-info is-medium",onChange:function(e){return E(e)},type:"number",name:"currentQuantity",id:"currentQuantity",required:!0})]})})}),w.currentQuantity&&Object(g.jsx)("div",{className:"has-text-danger",children:w.currentQuantity})]})}),Object(g.jsx)("div",{className:"field is-horizontal",children:Object(g.jsxs)("div",{className:"field-body",children:[Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("p",{className:"control"})}),Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("p",{className:"control",children:Object(g.jsx)("button",{className:"button is-info is-medium is-fullwidth",type:"button",onClick:function(e){return R(e)},children:"Create"})})}),Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("p",{className:"control"})})]})})]})})})}),Object(g.jsx)(Q,{})]})})})),_=function(){var e=Object(r.c)();Object(n.useEffect)((function(){e(v())}),[]);var t=Object(r.d)((function(e){return e.userReducer})),c=Object(r.d)((function(e){return e.itemReducer})).filter((function(e){return t.id===e.user}));return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(y,{}),Object(g.jsxs)("span",{children:["Hey\xa0\xa0",t.username]}),Object(g.jsx)("ul",{children:0===c.length?Object(g.jsx)("h2",{children:"No items"}):c.map((function(e){return Object(g.jsx)("section",{children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"columns items-wrapper",children:[Object(g.jsxs)("div",{className:"column courier",children:[Object(g.jsx)("p",{className:"subtitle color-orange",children:e.code}),Object(g.jsx)("p",{className:"is-size-1 title color-blue",children:e.name})]}),Object(g.jsx)("div",{className:"column courier",children:Object(g.jsx)("p",{className:e.current_quantity-e.ideal_quantity>=0?"is-success is-size-2 subtitle":"is-danger is-size-2 subtitle",children:e.current_quantity-e.ideal_quantity})})]})},e.code)},e.id)}))}),Object(g.jsx)(Q,{})]})})},L=c(17),z=c(39),J={},A=[],D={items:[]};var P={userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.user;default:return e}},errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR":return t.error;default:return e}},addReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return Object(k.a)(Object(k.a)({},e),{},{items:t.payload});default:return e}},itemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEMS_SUCCESS":return t.payload;default:return e}}},G=Object(L.b)(P),H=function(e,t){return"LOGOUT"===t.type?(localStorage.removeItem("token"),G(void 0,t)):G(e,t)},M=[z.a],K=Object(L.c)(H,L.a.apply(void 0,M));var B=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(r.a,{store:K,children:Object(g.jsx)(i.a,{children:Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{exact:!0,path:"/Login",component:C}),Object(g.jsx)(l.b,{exact:!0,path:"/Signup",component:w}),Object(g.jsx)(I,{exact:!0,path:"/",component:F}),Object(g.jsx)(I,{exact:!0,path:"/CreateItem",component:U}),Object(g.jsx)(I,{exact:!0,path:"/Items",component:q}),Object(g.jsx)(I,{exact:!0,path:"/Statistics",component:_})]})})})})})};c(75);a.a.render(Object(g.jsx)(i.a,{children:Object(g.jsx)(B,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.58aaa015.chunk.js.map